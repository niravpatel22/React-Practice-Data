<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

        <h2 id="res"></h2>
        <h2 id="res1"></h2>
        <h2 id="res2"></h2>
        <h2 id="res3"></h2>
    <script>

        // Callback

        function display(val)
        {
            document.getElementById('res').innerHTML = val;
        }

        function mul(x,y,result)
        {
            mul = x*y;            
            return result(mul);
        }

        mul(3,5,display)

        //A Map function allows you to pass a function that is applicable to every element in an array.

        function show(v)
        {
            document.getElementById('res1').innerHTML = v;
        }

        let arr1 = [1,2,3,4];
        function mapEx(a)
        {
            sq = a*a;
            return sq;
        }
            
                fun = arr1.map(mapEx);
                fun =mapEx(10)

                 fun= arr1.map((e) =>{return e*e});
        show(fun);



       

/*
        The reduce function executes a reducer call back function. Generally, we use reduce function when you want to reduce the whole array into a single element by performing functions like addition, multiplication. Instead of using loop concepts for these specific functions, we can use reduce function. There are two types of Reduce methods – reduce() and reduceRight(). It contains two parameters – previousValue and currentValue

reduce() method, by default starts at the first element of the array and moves in the forward direction towards last element of the array.

reduceRight() method, by default starts at the last element of the array and moves in the backward direction towards first element of array.*/
let array = [[1,2],[3,4]];
      function productOfArray(prev,curr) {

        console.log(prev);
        console.log(curr)
         return prev.concat(curr);// this concat methods works on array only
      }
      var result1 = array.reduce(productOfArray);
      var result2 = array.reduceRight(productOfArray);
      document.getElementById("res2").innerHTML = "The Concatenation of list by reduce method: "+result1+" The Concatenation of list by reduceRight method: "+result2;



      /*
      The filter method performs a call back function for each element in the array, the function is a Boolean function that must return either true or false. It returns the elements for which the callback function is true and filters out the elements for which the callback function is false.*/


      array1 = [1,3,7,9,6,13,17,20,18,19];
      function isPrime(num) {
         for (let i = 2; num > i; i++) {
            if (num % i == 0) {
               return false;
            }
         }
         return num > 1;
      }
      var op = array1.filter(isPrime);

      document.getElementById('res3').innerHTML = op;


/*
      The map() method is used for creating a new array from an existing one, applying a function to each one of the elements of the first array.


        Syntax :

        var new_array = arr.map(function callback(element, index, array) {
    // Return value for new_array

    In the callback, only the array element is required.
}
*/

    var mapEx = [1,2,3,4,5];

    // mapEx1 = mapEx.map((e,i,v)=>{ return e*e });
    mapEx1 = mapEx.map((e,i,v)=> e*e);

    mapEx2 = mapEx.map((e,i,v)=>{ return i });
    mapEx3 = mapEx.map((e,i,v)=>{ return v });

    console.log(mapEx1);
    console.log(mapEx2);
    console.log(mapEx3);

        
    /* 
    Syntax
        var new_array = arr.filter(function callback(element, index, array) {
            // Return true or false
        }[, thisArg])
        The syntax for filter is similar to map, except the callback function should return true to keep the element, or false otherwise. In the callback, only the element is required.
    */
        

    var filterEx = [1,2,3,4,5];

    // filterEx1 = filterEx.filter((e)=> {if(e%2!=0){return true}});

    filterEx1 = filterEx.filter((e)=> e%2 ==0 );

    console.log(filterEx1);

    const students = [
  { name: 'Quincy', grade: 96 },
  { name: 'Jason', grade: 84 },
  { name: 'Alexis', grade: 100 },
  { name: 'Sam', grade: 65 },
  { name: 'Katie', grade: 90 }
];


        grades = students.filter((marks)=>marks.grade<=90);
        // grades = students.filter((marks)=>marks.name.charAt(0)=='Q');

        console.log(grades);


        /*
        
        Reduce
The reduce() method reduces an array of values down to just one value. To get the output value, it runs a reducer function on each element of the array.

Syntax
arr.reduce(callback[, initialValue])
The callback argument is a function that will be called once for every item in the array. This function takes four arguments, but often only the first two are used.

accumulator - the returned value of the previous iteration
currentValue - the current item in the array
index - the index of the current item
array - the original array on which reduce was called
The initialValue argument is optional. If provided, it will be used as the initial accumulator value in the first call to the callback function.
        
        
        
        */

        const numbers = [1, 2, 3, 4];


        const sum = numbers.reduce((res,item) => {
            return res+item;
        })// here ) is by default if we dont write it will be alocated to firstParameter
        console.log(sum); // 10

        // const sum = numbers.reduceRight((res,item) => {
        //     return res;
        // })// here ) is by default if we dont write it will be alocated to firstParameter
        // console.log(sum); // 10


        var pets = ["dog",'dog', 'chicken', 'cat', 'dog', 'chicken', 'chicken', 'rabbit'];

var petCounts = pets.reduce(function(obj, pet){
    
    console.log(obj[pet]);
    
    if (!obj[pet]) {

        
        obj[pet] = 1;
    } else {
        obj[pet]++;
    }
    return obj;
}, {});

console.log(petCounts); 
    </script>
    
</body>
</html>